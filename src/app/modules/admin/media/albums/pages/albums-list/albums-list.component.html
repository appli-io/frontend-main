<div *transloco="let t; read: 'albums'" class="flex flex-col min-w-0 w-full">
  <page-header
    [description]="t('description')"
    [subtitle]="t('subtitle')"
    [title]="t('title')"
  ></page-header>

  <div class="flex flex-col items-center justify-center w-full max-w-xs sm:max-w-5xl mx-auto p-6 sm:p-10">
    @if (albums$ | async; as albums) {
      @if (albums?.length > 0) {
        <fuse-masonry
          [items]="albums"
          columns="3"
          [columnsTemplate]="albumColumnTemplate"
        ></fuse-masonry>
      } @else {
        <div class="flex flex-auto flex-col items-center justify-center bg-gray-100 dark:bg-transparent">
          <mat-icon
            [svgIcon]="'mat_outline:search_off'"
            class="icon-size-24"></mat-icon>
          <div class="mt-6 text-2xl font-semibold tracking-tight text-secondary">{{ t('no-content') }}</div>
        </div>
      }

      <ng-template #albumColumnTemplate let-columns>
        @for (column of columns; track trackByFn($index, column)) {
          <div class="flex-1 mx-2 p-2 rounded space-y-2" (click)="emit(columns)">
            @for (album of $any(column.items); track trackByFn($index, album)) {
              <album-card [album]="album" [index]="$index"></album-card>
            }
          </div>
        }
      </ng-template>
    } @else {
      <div class="flex flex-auto flex-col items-center justify-center bg-gray-100 dark:bg-transparent">
        <skeleton class='h-15 w-full bg-card'/>
      </div>
    }
  </div>
</div>
