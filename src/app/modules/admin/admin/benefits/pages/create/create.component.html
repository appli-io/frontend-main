<div *transloco="let t; read: 'admin.benefits.create'" class="flex flex-col min-w-0 w-full">
  <page-detail-header
    [breadcrumbs]="[ { label: ('admin.benefits.title' | transloco), url: '/admin/benefits' }, { label: ('admin.benefits.create.title' | transloco), url: undefined } ]"
    [subtitle]="t('description')"
    [title]="t('title')"
    class="shadow"
  ></page-detail-header>
  <!-- Content -->
  <div class="flex-auto flex flex-col sm:flex-row w-full max-w-xs sm:max-w-5xl mx-auto py-10 gap-y-4 sm:px-4">
    <!-- Form -->
    <div class="md:flex flex-col md:items-center md:justify-start w-full sm:w-auto md:h-full md:w-1/2 sm:rounded-2xl md:rounded-none sm:shadow md:shadow-none">
      <mat-stepper [orientation]="'vertical'" class="">
        <mat-step>
          <!-- Step 1: Category selection -->
          <ng-template matStepLabel>Categoría</ng-template>
          <h2 class="text text-secondary">Seleccione una categoría de la lista, si no existe, puede crearla.</h2>
          <mat-divider class="pb-4 mt-4"></mat-divider>
          <!-- Mat autocomplete que si no existe en los items, abre un modal para crear una categoría -->
          <div class="flex flex-col w-full">
            <mat-form-field class="w-full" subscriptSizing="dynamic">
              <mat-label>Categoría</mat-label>
              <input
                #categoryInput
                (input)="filter('category', $event.target)"
                (keyup.enter)="openCategoryDialog($event, categoryInput.value)"
                [matAutocomplete]="auto"
                formControlName="category"
                matInput
                placeholder="Seleccione una categoría"
              />
              <button
                (click)="openCategoryDialog($event)"
                mat-icon-button
                matSuffix>
                <mat-icon svgIcon="heroicons_outline:plus"></mat-icon>
              </button>
              <mat-autocomplete
                #auto="matAutocomplete"
                (optionSelected)="onCategorySelect($event.option.value)"
                [displayWith]="displayWithFn('name')"
              >
                <mat-option *ngFor="let category of categoriesFiltered$ | async" [disabled]="$any(category).disabled" [value]="category">
                  @if (category.parent) {
                    <span>{{ category.parent.name }} > {{ category.name }}</span>
                  } @else {
                    <span>{{ category.name }}</span>
                  }
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
        </mat-step>

        <mat-step>
          <ng-template matStepLabel>Empresa</ng-template>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. At dolorum eos ipsa perspiciatis quidem repellendus tempore. A ex illo in minima, quasi saepe sint vitae voluptates. Doloribus earum et suscipit!
        </mat-step>

        <mat-step>
          <mat-step-header [label]="'text'"></mat-step-header>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. At dolorum eos ipsa perspiciatis quidem repellendus tempore. A ex illo in minima, quasi saepe sint vitae voluptates. Doloribus earum et suscipit!
        </mat-step>
      </mat-stepper>
    </div>

    <!-- Preview -->
    <div class="relative hidden md:flex flex-auto flex-row items-center justify-center w-1/2 h-full p-16 lg:px-28 overflow-hidden dark:border-l">

    </div>

  </div>
</div>
